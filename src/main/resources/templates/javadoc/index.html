<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">
<head>
    <title th:text="${pageTitle + ' - Spring MCP Server'}">Javadoc - Spring MCP Server</title>
</head>
<body>
<div layout:fragment="content">
    <!-- Breadcrumb Navigation -->
    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a th:href="@{/projects}" class="text-decoration-none">
                    <i class="bi bi-folder2-open"></i> Projects
                </a>
            </li>
            <li class="breadcrumb-item">
                <span th:text="${library}">spring-ai</span>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                <span th:text="${version}">1.1.1</span> API
            </li>
        </ol>
    </nav>

    <!-- Page Header -->
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2 pb-2 mb-3 border-bottom">
        <h1 class="h2">
            <i class="bi bi-file-code text-info"></i>
            <span th:text="${library + ' ' + version}">spring-ai 1.1.1</span>
            <small class="text-muted">API Documentation</small>
        </h1>
        <div class="btn-toolbar">
            <!-- Version Switcher -->
            <div class="dropdown me-2" th:if="${availableVersions != null && !#lists.isEmpty(availableVersions)}">
                <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-tags"></i> <span th:text="${version}">1.1.1</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li th:each="v : ${availableVersions}">
                        <a class="dropdown-item"
                           th:href="@{/javadoc/view/{lib}/{ver}(lib=${library}, ver=${v})}"
                           th:text="${v}"
                           th:classappend="${v == version} ? 'active' : ''">
                            1.1.1
                        </a>
                    </li>
                </ul>
            </div>
            <a th:href="@{/javadoc/search(library=${library}, version=${version})}"
               class="btn btn-outline-primary">
                <i class="bi bi-search"></i> Search
            </a>
        </div>
    </div>

    <!-- Statistics -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card bg-info bg-opacity-10 border-info">
                <div class="card-body text-center">
                    <h3 class="mb-0" th:text="${packageCount}">0</h3>
                    <small class="text-muted">Packages</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Package List -->
    <div class="card">
        <div class="card-header">
            <h5 class="card-title mb-0">
                <i class="bi bi-folder text-info"></i> All Packages
            </h5>
        </div>
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th scope="col">Package</th>
                            <th scope="col">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="pkg : ${packages}">
                            <td>
                                <a th:href="@{/javadoc/view/{lib}/{ver}/package/{pkg}(lib=${library}, ver=${version}, pkg=${pkg.packageName})}"
                                   class="text-decoration-none fw-semibold">
                                    <code th:text="${pkg.packageName}">org.springframework.ai.chat</code>
                                </a>
                            </td>
                            <td>
                                <span th:if="${pkg.summary}" th:text="${#strings.abbreviate(pkg.summary, 120)}">
                                    Package description...
                                </span>
                                <span th:unless="${pkg.summary}" class="text-muted fst-italic">
                                    No description available
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Custom Styles -->
<th:block layout:fragment="scripts">
    <style>
        .breadcrumb-item.active {
            color: #17a2b8;
        }
    </style>
</th:block>
</body>
</html>
